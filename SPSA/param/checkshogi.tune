#set file mate\mate1ply_without_effect.cpp
#context

	Move mate_1ply(const Position& pos)
	{
		return pos.side_to_move() == BLACK ? Mate::mate_1ply_imp<BLACK>(pos) : Mate::mate_1ply_imp<WHITE>(pos);
	}

#add

	Move mate_1ply(const Position& pos)
	{
    	// ç¾å±€é¢ã§1æ‰‹è©°ã‚ã§ã‚ã‚‹ã‹ã‚’åˆ¤å®šã™ã‚‹ã€‚1æ‰‹è©°ã‚ã§ã‚ã‚Œã°ãã®æŒ‡ã—æ‰‹ã‚’è¿”ã™ã€‚
		// ç‹æ‰‹å°†æ£‹ã®ãŸã‚ã«1æ‰‹è©°ã‚åˆ¤å®šã‚’å·®ã—æ›¿ãˆã‚‹ã€‚
		// ğŸ’¡ ç‹æ‰‹ã®æŒ‡ã—æ‰‹ãŒ1æ‰‹ã§ã‚‚ã‚ã‚‹ãªã‚‰ã€(ã“ã‚Œã¯è©°ã¿ãªã®ã§)1ã¤ç›®ã®æŒ‡ã—æ‰‹ã‚’è¿”ã™ã€‚
		//     ã•ã‚‚ãªãã°ã€noneã‚’è¿”ã™ã€‚		
		MoveList<CHECKS> list(pos);
        return list.size() ? list.at(0) : Move::none();
    }

#set file position.cpp
#context

bool Position::legal(Move m) const
{

#add

bool Position::legal(Move m) const
{

	// ç‹æ‰‹å°†æ£‹ã®å ´åˆã€ç‹æ‰‹ãŒã‹ã‹ã£ã¦ã„ã‚‹ãªã‚‰ã“ã®å±€é¢ã®åˆæ³•æ‰‹ã¯å­˜åœ¨ã—ãªã„ã€‚
    if (checkers())
        return false;

